<mat-progress-bar mode="indeterminate" color="warn" *ngIf="loading"></mat-progress-bar>
<div class="container-fluid p-0">
    <div class="row no-gutters">
        <div class="col-auto side-bar" *ngIf="!isDrawerOpened">
            <mat-nav-list>
                <a mat-list-item (click)="drawer.toggle();isDrawerOpened=true">
                    <mat-icon>menu</mat-icon>
                </a>
                <a mat-list-item matTooltip="Assigned Issues">
                    <mat-icon>assignment</mat-icon>
                </a>
                <a mat-list-item matTooltip="Reported Issues">
                    <mat-icon>assignment_ind</mat-icon>
                </a>
                <a mat-list-item matTooltip="Watching">
                    <mat-icon>remove_red_eye</mat-icon>
                </a>
                <a mat-list-item matTooltip="Report new issue" [routerLink]="['/issue/browse','new']">
                    <mat-icon>bug_report</mat-icon>
                </a>
            </mat-nav-list>
        </div>
        <div class="col">
            <mat-sidenav-container class="sidenav-container">
                <mat-sidenav #drawer class="sidenav" fixedInViewport="false" [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
                    [mode]="(isHandset$ | async) ? 'over' : 'side'" [opened]="!(isHandset$ | async)">
                    <mat-icon class="pt-2 px-3" (click)="drawer.toggle();isDrawerOpened=false">menu</mat-icon>
                    <mat-nav-list>
                        <a mat-list-item>
                            <mat-icon>assignment</mat-icon>Assigned Issues
                        </a>
                        <a mat-list-item>
                            <mat-icon>assignment_ind</mat-icon>Reported Issues
                        </a>
                        <a mat-list-item>
                            <mat-icon>remove_red_eye</mat-icon>Watching
                        </a>
                        <span class="spacer"></span>
                        <a mat-list-item [routerLink]="['/issue/browse','new']">
                            <mat-icon>bug_report</mat-icon>Report new issue
                        </a>
                    </mat-nav-list>
                </mat-sidenav>
                <mat-sidenav-content>
                    <div class="container-fluid">
                        <div class="row py-4 header-row sticky-top align-items-center">
                            <div class="col-auto display-4 title">
                                Assigned Issues
                            </div>
                            <div class="col-auto issue-count ml-auto">
                                <div class="row">
                                    <div class="col-auto">
                                        <div class="row">
                                            <div class="col-12 display-4 text-center">{{allIssues.length}}</div>
                                            <small class="col-12 text-center">Issues</small>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="row filters">
                                            <div class="col-auto">
                                                <small><b>1</b> In progress</small><br>
                                                <small><b>1</b> To Do</small>
                                            </div>
                                            <div class="col-auto">
                                                <small><b>1</b> Done</small><br>
                                                <small><b>11</b> Backlog</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row" *ngIf="allIssues">
                            <data-table [issues]="allIssues" class="full-width"></data-table>
                        </div>
                    </div>

                </mat-sidenav-content>
            </mat-sidenav-container>
        </div>
    </div>
</div>